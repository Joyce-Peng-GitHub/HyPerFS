# 功能树

## 服务端

### 网络连接

- 监听特定端口（TCP/HTTP）
- 连接池/线程池管理（Reactor模式）
- 并发连接数限制
- 当前在线、下载人数统计 

### 文件服务

- 生成可下载文件清单（JSON）
- 处理文件上传（Multipart）
- 处理文件下载（支持Range头/零拷贝）
- 文件元数据管理（改名、修改说明、删除，用SQLite）
- 上传大小限制
- 文件存储空间统计 
- 排行榜（下载量最大、最新上传）

### 区块链

- 区块结构定义：包含 `PreviousHash`、`Timestamp`、`Data(PermissionOp)`、`Hash`
- 权限上链：用户上传文件时，生成“所有权”区块，记录File ID、Owner Public Key
- 权限验证
  - 删改请求：验证是否与Owner一致
  - 下载请求：验证是否有权下载

## 客户端

### 传输

- 多线程分段下载（Range请求）
- 记录本地进度，断点续传
- 文件上传（带说明信息）

### 安全

- 生成密钥
- 签名关键操作

### UI

有时间用Java写个桌面端，没时间就直接用AI写个前端。

- 配置连接
- 文件列表视图
- 上传下载管理面板，包括进度条等

